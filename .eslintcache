[{"D:\\react-project\\epic\\src\\index.js":"1","D:\\react-project\\epic\\src\\reportWebVitals.js":"2","D:\\react-project\\epic\\src\\App.js":"3","D:\\react-project\\epic\\src\\components\\Footer.js":"4","D:\\react-project\\epic\\src\\components\\Header.js":"5","D:\\react-project\\epic\\src\\pages\\Home.js":"6","D:\\react-project\\epic\\src\\pages\\About.js":"7","D:\\react-project\\epic\\src\\pages\\History.js":"8","D:\\react-project\\epic\\src\\components\\Loading.js":"9","D:\\react-project\\epic\\src\\pages\\Login.js":"10","D:\\react-project\\epic\\src\\pages\\Register.js":"11","D:\\react-project\\epic\\src\\stores\\index.js":"12","D:\\react-project\\epic\\src\\stores\\auth.js":"13","D:\\react-project\\epic\\src\\models\\index.js":"14","D:\\react-project\\epic\\src\\stores\\user.js":"15","D:\\react-project\\epic\\src\\components\\Uploader.js":"16","D:\\react-project\\epic\\src\\stores\\image.js":"17","D:\\react-project\\epic\\src\\components\\Tips.js":"18","D:\\react-project\\epic\\src\\components\\List.js":"19","D:\\react-project\\epic\\src\\stores\\history.js":"20"},{"size":521,"mtime":1614056312954,"results":"21","hashOfConfig":"22"},{"size":362,"mtime":1609514060633,"results":"23","hashOfConfig":"22"},{"size":1296,"mtime":1611822390879,"results":"24","hashOfConfig":"22"},{"size":335,"mtime":1611821220762,"results":"25","hashOfConfig":"22"},{"size":2481,"mtime":1612502889445,"results":"26","hashOfConfig":"22"},{"size":398,"mtime":1612318161816,"results":"27","hashOfConfig":"22"},{"size":435,"mtime":1613886476965,"results":"28","hashOfConfig":"22"},{"size":217,"mtime":1612436001422,"results":"29","hashOfConfig":"22"},{"size":133,"mtime":1611817886436,"results":"30","hashOfConfig":"22"},{"size":3294,"mtime":1612411054044,"results":"31","hashOfConfig":"22"},{"size":3981,"mtime":1612411280291,"results":"32","hashOfConfig":"22"},{"size":442,"mtime":1612435576491,"results":"33","hashOfConfig":"22"},{"size":1689,"mtime":1612438166883,"results":"34","hashOfConfig":"22"},{"size":2385,"mtime":1614056873343,"results":"35","hashOfConfig":"22"},{"size":407,"mtime":1611994160600,"results":"36","hashOfConfig":"22"},{"size":4792,"mtime":1614056312952,"results":"37","hashOfConfig":"22"},{"size":1235,"mtime":1614055078707,"results":"38","hashOfConfig":"22"},{"size":544,"mtime":1612318444649,"results":"39","hashOfConfig":"22"},{"size":2061,"mtime":1614058982285,"results":"40","hashOfConfig":"22"},{"size":1634,"mtime":1614058668131,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"11k9wpk",{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\react-project\\epic\\src\\index.js",[],"D:\\react-project\\epic\\src\\reportWebVitals.js",[],["89","90"],"D:\\react-project\\epic\\src\\App.js",[],"D:\\react-project\\epic\\src\\components\\Footer.js",[],"D:\\react-project\\epic\\src\\components\\Header.js",["91"],"import React, {useEffect} from \"react\";\r\nimport {Link, NavLink, useHistory} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {Button} from \"antd\";\r\nimport {useStore} from \"../stores\";\r\nimport {observer} from \"mobx-react\";\r\n\r\nconst Header = styled.header`\r\n  background: #343A40;\r\n  padding: 20px 200px;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;  \r\n`;\r\n\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  color:#CCCDCF;\r\n  margin-left: 30px;\r\n  &:hover,&.active{\r\n    color:#ffffff;\r\n  }\r\n`;\r\nconst StyledButton = styled(Button)`\r\n margin-left: 10px;\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  line-height: 20px;\r\n  color:#fff;\r\n  &:hover,&:focus{\r\n    background: #6C757D;\r\n    border: none;\r\n  }\r\n`;\r\nconst Login = styled.div`\r\nmargin-left: auto;\r\ncolor:#fff;\r\n`;\r\nconst Logo = styled(Link)`\r\n  color: #CCCDCF;\r\n  font-size: 28px;\r\n   &:hover,&.active{\r\n    color:#ffffff;\r\n  }\r\n  \r\n`;\r\n\r\nconst Component = observer(() => {\r\n    const {UserStore, AuthStore} = useStore();\r\n    const history = useHistory();\r\n    const handleLogin = () => {\r\n        history.push(\"/login\");\r\n\r\n    };\r\n    const handleLogout = () => {\r\n        AuthStore.logout();\r\n    };\r\n    const handleRegister = () => {\r\n        history.push(\"/register\");\r\n    };\r\n    useEffect(() => {\r\n        UserStore.setUser();\r\n    }, []);\r\n    return (\r\n        <Header>\r\n            <Logo to=\"/\">怪人图床</Logo>\r\n            <nav>\r\n                <StyledLink to=\"/\" activeClassName=\"active\" exact>上传图片</StyledLink>\r\n                <StyledLink to=\"/history\" activeClassName=\"active\">上传历史</StyledLink>\r\n                <StyledLink to=\"/about\" activeClassName=\"active\">关于</StyledLink>\r\n            </nav>\r\n            <Login>\r\n                {\r\n                    UserStore.currentUser ?\r\n                        <>{UserStore.currentUser.attributes.username}<StyledButton type=\"primary\"\r\n                                                                                   onClick={handleLogout}>注销</StyledButton></>\r\n                        :\r\n                        <>\r\n                            <StyledButton type=\"primary\" onClick={handleLogin}>登录</StyledButton>\r\n                            <StyledButton type=\"primary\" onClick={handleRegister}>注册</StyledButton>\r\n                        </>\r\n\r\n                }\r\n\r\n            </Login>\r\n\r\n        </Header>\r\n    );\r\n});\r\n\r\nexport default Component;","D:\\react-project\\epic\\src\\pages\\Home.js",["92"],"import React from \"react\";\r\nimport {observer} from \"mobx-react\";\r\nimport {useStore} from \"../stores\";\r\nimport Uploader from \"../components/Uploader\";\r\nimport Tips from \"../components/Tips\";\r\n\r\nconst Home = observer(() => {\r\n    const {UserStore} = useStore();\r\n    return (\r\n        <>\r\n           <Tips>请先登录</Tips>\r\n            <Uploader/>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default Home;","D:\\react-project\\epic\\src\\pages\\About.js",["93"],"import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Div = styled.div`\r\n font-size: 40px;\r\n display: flex;\r\n margin: 0 auto;\r\n flex-direction: column;\r\n align-items: center;\r\n`;\r\n\r\nfunction About() {\r\n    return (\r\n        <>\r\n            <Div><span>作者是一个刚进入前端行业的菜鸡~</span>\r\n                <a href=\"\">github</a>\r\n            </Div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default About;","D:\\react-project\\epic\\src\\pages\\History.js",[],"D:\\react-project\\epic\\src\\components\\Loading.js",[],"D:\\react-project\\epic\\src\\pages\\Login.js",["94"],"import React from \"react\";\r\nimport {Form, Input, Button} from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport {useStore} from \"../stores\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\n\r\nconst Wraper = styled.div`\r\n  max-width: 600px;\r\n  margin: 30px auto;\r\n  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst LoginButton = styled(Button)`\r\n  width: 100%;\r\n  background: #fff;\r\n  border: #6C757D 1px solid;\r\n  color:#6C757D;\r\n  &:hover{\r\n    background: #6C757D;\r\n    border: none;\r\n  }\r\n`;\r\n\r\n\r\nconst Component = () => {\r\n    const {AuthStore} = useStore();\r\n    const history = useHistory();\r\n\r\n    const onFinish = values => {\r\n        console.log(\"Success:\", values);\r\n        AuthStore.setUsername(values.username);\r\n        AuthStore.setPassword(values.password);\r\n        AuthStore.login()\r\n            .then(() => {\r\n                history.push(\"/\");\r\n            }).catch(() => {\r\n            console.log(\"登录失败，什么都不做\");\r\n        });\r\n    };\r\n\r\n    const onFinishFailed = errorInfo => {\r\n        console.log(\"Failed:\", errorInfo);\r\n    };\r\n\r\n    const validateUsername = (rule, value) => {\r\n        if (/\\W/.test(value)) return Promise.reject(\"只能是字母数字下划线\");\r\n        if (value.length < 4 || value.length > 20) return Promise.reject(\"长度为4～10个字符\");\r\n        return Promise.resolve();\r\n    };\r\n\r\n\r\n    return (\r\n        <Wraper>\r\n            <Title>登 录</Title>\r\n            <Form\r\n                size=\"large\"\r\n                name=\"basic\"\r\n                onFinish={onFinish}\r\n                layout=\"vertical\"\r\n                onFinishFailed={onFinishFailed}\r\n                size=\"large\"\r\n            >\r\n                <Form.Item\r\n                    label=\"用户名\"\r\n                    name=\"username\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"输入用户名\",\r\n                        },\r\n                        {\r\n                            validator: validateUsername\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Input/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"密码\"\r\n                    name=\"password\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"输入密码\",\r\n                        },\r\n                        {\r\n                            min: 4,\r\n                            message: \"最少4个字符\"\r\n                        },\r\n                        {\r\n                            max: 20,\r\n                            message: \"最大20个字符\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Input.Password/>\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item>\r\n                    <LoginButton type=\"primary\" htmlType=\"submit\">\r\n                        登 录\r\n                    </LoginButton>\r\n                </Form.Item>\r\n            </Form>\r\n        </Wraper>\r\n    );\r\n};\r\n\r\nexport default Component;","D:\\react-project\\epic\\src\\pages\\Register.js",[],"D:\\react-project\\epic\\src\\stores\\index.js",[],"D:\\react-project\\epic\\src\\stores\\auth.js",[],"D:\\react-project\\epic\\src\\models\\index.js",["95"],"D:\\react-project\\epic\\src\\stores\\user.js",[],"D:\\react-project\\epic\\src\\components\\Uploader.js",["96","97"],"import React, {useRef} from \"react\";\nimport {useStore} from \"../stores\";\nimport {observer} from \"mobx-react\";\nimport {Upload, message, Spin} from \"antd\";\nimport {InboxOutlined} from \"@ant-design/icons\";\nimport styled from \"styled-components\";\nimport {useLocalStore} from \"mobx-react-lite\";\n\nconst Result = styled.div`\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n \n`;\nconst H1 = styled.h1`\n  margin: 20px 0;\n  text-align: center;\n`;\nconst Img = styled.img`\n  max-width: 300px;\n`;\nconst Component = observer(() => {\n        const {Dragger} = Upload;\n        const {ImageStore, UserStore} = useStore();\n        const widthRef = useRef();\n        const heightRef = useRef();\n        const store = useLocalStore(() => ({\n            width: null,\n            height: null,\n            setWidth(width) {\n                store.width = width;\n            },\n            setHeight(height) {\n                store.height = height;\n            },\n            get widthStr() {\n                return store.width ? `/w/${store.width}` : \"\";\n            },\n            get heightStr() {\n                return store.height ? `/h/${store.height}` : \"\";\n            },\n            get fullStr() {\n                return ImageStore.serverFile.attributes.url.attributes.url + \"?imageView2/0\" + store.widthStr + store.heightStr;\n            }\n\n        }));\n        const bindWidthChange = () => {\n            console.log(\"width\");\n            store.setWidth(widthRef.current.value);\n        };\n        const bindHeightChange = () => {\n            console.log(\"height\");\n            store.setHeight(heightRef.current.value);\n        };\n        const props = {\n            showUploadList: false,\n            beforeUpload: file => {\n                ImageStore.setFile(file);\n                ImageStore.setFilename(file.name);\n                if (UserStore.currentUser === null) {\n                    message.warning(\"请先登录之后再上传图片！\");\n                    return false;\n                }\n                if (!/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/ig.test(file.type)) {\n                    message.error(\"只能上传svg/png/jpg/jpeg/gif格式的图片！\");\n                    return false;\n                }\n                if (file.size > 1024 * 1024 * 5) {\n                    message.error(\"只能上传10M以下的图片\");\n                    return false;\n                }\n                ImageStore.upload()\n                    .then((serverFile) => {\n                        console.log(\"上传成功\");\n                        console.log(serverFile);\n                    }).catch(() => {\n                    console.log(\"上传失败\");\n                });\n                return false;\n            }\n        };\n\n        return (\n            <div>\n                <Spin tip=\"上传中\" spinning={ImageStore.isUploading}>\n                    <Dragger {...props}>\n                        <p className=\"ant-upload-drag-icon\">\n                            <InboxOutlined/>\n                        </p>\n                        <p className=\"ant-upload-text\"><b>将文件拖放到此处或者点击</b></p>\n                        <p className=\"ant-upload-hint\">\n                            仅支持.svg/.png/.jpg/.jpeg/.gif格式的图片，图片最大尺寸为5M\n                        </p>\n                    </Dragger>\n                </Spin>\n                {ImageStore.serverFile ?\n                    <Result>\n                        <H1>上传结果</H1>\n                        <dl>\n                            <dt>完整路径</dt>\n                            <dd><a target=\"_blank\"\n                                   href={ImageStore.serverFile.attributes.url.attributes.url}>{ImageStore.serverFile.attributes.url.attributes.url}</a>\n                            </dd>\n                            <dt>文件名</dt>\n                            <dd>{ImageStore.filename}</dd>\n                            <dt>图片预览</dt>\n                            <dd>\n                                <Img src={ImageStore.serverFile.attributes.url.attributes.url} alt=\"\"/>\n                            </dd>\n                            <dt>更多尺寸</dt>\n                            <dd>\n                                <input type=\"text\" onChange={bindWidthChange} ref={widthRef} placeholder=\"宽度（选填）\"/>\n                                <input type=\"text\" onChange={bindHeightChange} ref={heightRef} placeholder=\"高度（选填）\"/>\n                            </dd>\n                            <dt>定制图片预览地址</dt>\n                            <dd>\n                                <a target=\"_blank\" href={store.fullStr}>{store.fullStr}</a>\n                            </dd>\n                        </dl>\n                    </Result> : null}\n            </div>\n        );\n    })\n;\nexport default Component;","D:\\react-project\\epic\\src\\stores\\image.js",["98"],"import {observable, action, makeObservable} from \"mobx\";\nimport {Auth, Uploader} from \"../models\";\nimport {message} from \"antd\";\n\n\nclass ImageStore {\n    constructor() {\n        makeObservable(this);\n    }\n\n    @observable filename = \"\";\n    @observable isUploading = false;\n    @observable file = null;\n    //服务器存储的文件 展示的\n    @observable serverFile = null;\n\n    @action setFilename(filename) {\n        this.filename = filename;\n    }\n\n    @action setFile(file) {\n        this.file = file;\n    }\n\n    @action upload() {\n        this.isUploading = true;\n        this.serverFile = null;\n        return new Promise((resolve, reject) => {\n            Uploader.add(this.file, this.filename).then(\n                serverFile => {\n                    this.serverFile = serverFile;\n                    this.isUploading = false;\n                    resolve(serverFile);\n                }).catch(err => {\n                message.error(\"上传失败！\");\n                reject(err);\n            }).finally(() => {\n                this.isUploading = false;\n            });\n        });\n    }\n\n    @action reset() {\n        this.isUploading = false;\n        this.serverFile = null;\n    }\n\n}\n\nexport default new ImageStore();\n","D:\\react-project\\epic\\src\\components\\Tips.js",[],"D:\\react-project\\epic\\src\\components\\List.js",["99","100"],"D:\\react-project\\epic\\src\\stores\\history.js",[],{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"106","line":65,"column":8,"nodeType":"107","endLine":65,"endColumn":10,"suggestions":"108"},{"ruleId":"109","severity":1,"message":"110","line":8,"column":12,"nodeType":"111","messageId":"112","endLine":8,"endColumn":21},{"ruleId":"113","severity":1,"message":"114","line":16,"column":17,"nodeType":"115","endLine":16,"endColumn":28},{"ruleId":"116","severity":1,"message":"117","line":69,"column":17,"nodeType":"118","endLine":69,"endColumn":29},{"ruleId":"109","severity":1,"message":"119","line":1,"column":13,"nodeType":"111","messageId":"112","endLine":1,"endColumn":18},{"ruleId":"120","severity":1,"message":"121","line":101,"column":33,"nodeType":"115","endLine":102,"endColumn":95},{"ruleId":"120","severity":1,"message":"121","line":117,"column":33,"nodeType":"115","endLine":117,"endColumn":73},{"ruleId":"109","severity":1,"message":"122","line":2,"column":9,"nodeType":"111","messageId":"112","endLine":2,"endColumn":13},{"ruleId":"105","severity":1,"message":"123","line":37,"column":8,"nodeType":"107","endLine":37,"endColumn":10,"suggestions":"124"},{"ruleId":"120","severity":1,"message":"121","line":58,"column":29,"nodeType":"115","endLine":58,"endColumn":117},"no-native-reassign",["125"],"no-negated-in-lhs",["126"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'UserStore'. Either include it or remove the dependency array.","ArrayExpression",["127"],"no-unused-vars","'UserStore' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'Query' is defined but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","'Auth' is defined but never used.","React Hook useEffect has a missing dependency: 'HistoryStore'. Either include it or remove the dependency array.",["128"],"no-global-assign","no-unsafe-negation",{"desc":"129","fix":"130"},{"desc":"131","fix":"132"},"Update the dependencies array to be: [UserStore]",{"range":"133","text":"134"},"Update the dependencies array to be: [HistoryStore]",{"range":"135","text":"136"},[1372,1374],"[UserStore]",[803,805],"[HistoryStore]"]